package calendar

import "time"

// koreaHolidayList contains KRW (Korea Exchange) holidays from 2009-2055.
var krHolidayList = []string{
	"2009-01-01",
	"2009-01-26",
	"2009-01-27",
	"2009-05-01",
	"2009-05-05",
	"2009-10-02",
	"2009-12-25",
	"2010-01-01",
	"2010-02-15",
	"2010-03-01",
	"2010-05-05",
	"2010-05-21",
	"2010-06-02",
	"2010-09-21",
	"2010-09-22",
	"2010-09-23",
	"2011-02-02",
	"2011-02-03",
	"2011-02-04",
	"2011-03-01",
	"2011-05-05",
	"2011-05-10",
	"2011-06-06",
	"2011-08-15",
	"2011-09-12",
	"2011-09-13",
	"2011-10-03",
	"2012-01-23",
	"2012-01-24",
	"2012-03-01",
	"2012-04-11",
	"2012-05-01",
	"2012-05-28",
	"2012-06-06",
	"2012-08-15",
	"2012-10-01",
	"2012-10-03",
	"2012-12-19",
	"2012-12-25",
	"2013-01-01",
	"2013-02-11",
	"2013-03-01",
	"2013-05-01",
	"2013-05-17",
	"2013-06-06",
	"2013-08-15",
	"2013-09-18",
	"2013-09-19",
	"2013-09-20",
	"2013-10-03",
	"2013-10-09",
	"2013-12-25",
	"2014-01-01",
	"2014-01-30",
	"2014-01-31",
	"2014-05-01",
	"2014-05-05",
	"2014-05-06",
	"2014-06-04",
	"2014-06-06",
	"2014-08-15",
	"2014-09-08",
	"2014-09-09",
	"2014-09-10",
	"2014-10-03",
	"2014-10-09",
	"2014-12-25",
	"2015-01-01",
	"2015-02-18",
	"2015-02-19",
	"2015-02-20",
	"2015-05-01",
	"2015-05-05",
	"2015-05-25",
	"2015-08-14",
	"2015-09-28",
	"2015-09-29",
	"2015-10-09",
	"2015-12-25",
	"2016-01-01",
	"2016-02-08",
	"2016-02-09",
	"2016-02-10",
	"2016-03-01",
	"2016-04-13",
	"2016-05-05",
	"2016-05-06",
	"2016-06-06",
	"2016-08-15",
	"2016-09-14",
	"2016-09-15",
	"2016-09-16",
	"2016-10-03",
	"2017-01-27",
	"2017-01-30",
	"2017-03-01",
	"2017-05-01",
	"2017-05-03",
	"2017-05-05",
	"2017-05-09",
	"2017-06-06",
	"2017-08-15",
	"2017-10-02",
	"2017-10-03",
	"2017-10-04",
	"2017-10-05",
	"2017-10-06",
	"2017-10-09",
	"2017-12-25",
	"2018-01-01",
	"2018-02-15",
	"2018-02-16",
	"2018-03-01",
	"2018-05-01",
	"2018-05-07",
	"2018-05-22",
	"2018-06-06",
	"2018-06-13",
	"2018-08-15",
	"2018-09-24",
	"2018-09-25",
	"2018-09-26",
	"2018-10-03",
	"2018-10-09",
	"2018-12-25",
	"2019-01-01",
	"2019-02-04",
	"2019-02-05",
	"2019-02-06",
	"2019-03-01",
	"2019-05-01",
	"2019-05-06",
	"2019-06-06",
	"2019-08-15",
	"2019-09-12",
	"2019-09-13",
	"2019-10-03",
	"2019-10-09",
	"2019-12-25",
	"2020-01-01",
	"2020-01-24",
	"2020-01-27",
	"2020-04-15",
	"2020-04-30",
	"2020-05-01",
	"2020-05-05",
	"2020-08-17",
	"2020-09-30",
	"2020-10-01",
	"2020-10-02",
	"2020-10-09",
	"2020-12-25",
	"2021-01-01",
	"2021-02-11",
	"2021-02-12",
	"2021-03-01",
	"2021-05-05",
	"2021-05-19",
	"2021-08-16",
	"2021-09-20",
	"2021-09-21",
	"2021-09-22",
	"2021-10-04",
	"2021-10-11",
	"2022-01-31",
	"2022-02-01",
	"2022-02-02",
	"2022-03-01",
	"2022-03-09",
	"2022-05-05",
	"2022-06-01",
	"2022-06-06",
	"2022-08-15",
	"2022-09-09",
	"2022-09-12",
	"2022-10-03",
	"2022-10-10",
	"2023-01-23",
	"2023-01-24",
	"2023-03-01",
	"2023-05-01",
	"2023-05-05",
	"2023-06-06",
	"2023-08-15",
	"2023-09-28",
	"2023-09-29",
	"2023-10-03",
	"2023-10-09",
	"2023-12-25",
	"2024-01-01",
	"2024-02-09",
	"2024-02-12",
	"2024-03-01",
	"2024-04-10",
	"2024-05-01",
	"2024-05-06",
	"2024-05-15",
	"2024-06-06",
	"2024-08-15",
	"2024-09-16",
	"2024-09-17",
	"2024-09-18",
	"2024-10-03",
	"2024-10-09",
	"2024-12-25",
	"2025-01-01",
	"2025-01-28",
	"2025-01-29",
	"2025-01-30",
	"2025-03-03",
	"2025-05-01",
	"2025-05-05",
	"2025-05-06",
	"2025-06-06",
	"2025-08-15",
	"2025-10-03",
	"2025-10-06",
	"2025-10-07",
	"2025-10-08",
	"2025-10-09",
	"2025-12-25",
	"2026-01-01",
	"2026-02-16",
	"2026-02-17",
	"2026-02-18",
	"2026-03-02",
	"2026-05-01",
	"2026-05-05",
	"2026-05-25",
	"2026-06-03",
	"2026-08-17",
	"2026-09-24",
	"2026-09-25",
	"2026-10-05",
	"2026-10-09",
	"2026-12-25",
	"2027-01-01",
	"2027-02-08",
	"2027-02-09",
	"2027-03-01",
	"2027-05-05",
	"2027-05-13",
	"2027-08-16",
	"2027-09-14",
	"2027-09-15",
	"2027-09-16",
	"2027-10-04",
	"2027-10-11",
	"2027-12-27",
	"2028-01-26",
	"2028-01-27",
	"2028-01-28",
	"2028-03-01",
	"2028-04-12",
	"2028-05-01",
	"2028-05-02",
	"2028-05-05",
	"2028-06-06",
	"2028-08-15",
	"2028-10-02",
	"2028-10-03",
	"2028-10-04",
	"2028-10-05",
	"2028-10-09",
	"2028-12-25",
	"2029-01-01",
	"2029-02-12",
	"2029-02-13",
	"2029-02-14",
	"2029-03-01",
	"2029-05-01",
	"2029-05-07",
	"2029-05-21",
	"2029-06-06",
	"2029-08-15",
	"2029-09-21",
	"2029-09-24",
	"2029-10-03",
	"2029-10-09",
	"2029-12-25",
	"2030-01-01",
	"2030-02-04",
	"2030-02-05",
	"2030-03-01",
	"2030-03-27",
	"2030-05-01",
	"2030-05-06",
	"2030-05-09",
	"2030-06-06",
	"2030-06-12",
	"2030-08-15",
	"2030-09-11",
	"2030-09-12",
	"2030-09-13",
	"2030-10-03",
	"2030-10-09",
	"2030-12-25",
	"2031-01-01",
	"2031-01-22",
	"2031-01-23",
	"2031-01-24",
	"2031-03-03",
	"2031-05-01",
	"2031-05-05",
	"2031-05-28",
	"2031-06-06",
	"2031-08-15",
	"2031-09-30",
	"2031-10-01",
	"2031-10-02",
	"2031-10-03",
	"2031-10-09",
	"2031-12-25",
	"2032-01-01",
	"2032-02-10",
	"2032-02-11",
	"2032-02-12",
	"2032-03-01",
	"2032-04-14",
	"2032-05-05",
	"2032-05-17",
	"2032-08-16",
	"2032-09-20",
	"2032-09-21",
	"2032-10-04",
	"2032-10-11",
	"2032-12-27",
	"2033-01-31",
	"2033-02-01",
	"2033-02-02",
	"2033-03-01",
	"2033-05-05",
	"2033-05-06",
	"2033-06-06",
	"2033-08-15",
	"2033-09-07",
	"2033-09-08",
	"2033-09-09",
	"2033-10-03",
	"2033-10-10",
	"2033-12-26",
	"2034-02-20",
	"2034-02-21",
	"2034-03-01",
	"2034-05-01",
	"2034-05-05",
	"2034-05-25",
	"2034-05-31",
	"2034-06-06",
	"2034-08-15",
	"2034-09-26",
	"2034-09-27",
	"2034-09-28",
	"2034-10-03",
	"2034-10-09",
	"2034-12-25",
	"2035-01-01",
	"2035-02-07",
	"2035-02-08",
	"2035-02-09",
	"2035-03-01",
	"2035-03-28",
	"2035-05-01",
	"2035-05-07",
	"2035-05-15",
	"2035-06-06",
	"2035-08-15",
	"2035-09-17",
	"2035-09-18",
	"2035-10-03",
	"2035-10-09",
	"2035-12-25",
	"2036-01-01",
	"2036-01-28",
	"2036-01-29",
	"2036-01-30",
	"2036-03-03",
	"2036-04-09",
	"2036-05-01",
	"2036-05-05",
	"2036-05-06",
	"2036-06-06",
	"2036-08-15",
	"2036-10-03",
	"2036-10-06",
	"2036-10-07",
	"2036-10-09",
	"2036-12-25",
	"2037-01-01",
	"2037-02-16",
	"2037-02-17",
	"2037-03-02",
	"2037-05-01",
	"2037-05-05",
	"2037-05-22",
	"2037-08-17",
	"2037-09-23",
	"2037-09-24",
	"2037-09-25",
	"2037-10-05",
	"2037-10-09",
	"2037-12-25",
	"2038-01-01",
	"2038-02-03",
	"2038-02-04",
	"2038-02-05",
	"2038-03-01",
	"2038-05-05",
	"2038-05-11",
	"2038-06-02",
	"2038-08-16",
	"2038-09-13",
	"2038-09-14",
	"2038-09-15",
	"2038-10-04",
	"2038-10-11",
	"2038-12-27",
	"2039-01-24",
	"2039-01-25",
	"2039-01-26",
	"2039-03-01",
	"2039-05-02",
	"2039-05-05",
	"2039-06-06",
	"2039-08-15",
	"2039-10-03",
	"2039-10-04",
	"2039-10-05",
	"2039-10-10",
	"2039-12-26",
	"2040-02-13",
	"2040-02-14",
	"2040-03-01",
	"2040-03-28",
	"2040-04-11",
	"2040-05-01",
	"2040-05-07",
	"2040-05-18",
	"2040-06-06",
	"2040-08-15",
	"2040-09-20",
	"2040-09-21",
	"2040-10-03",
	"2040-10-09",
	"2040-12-25",
	"2041-01-01",
	"2041-01-31",
	"2041-02-01",
	"2041-03-01",
	"2041-05-01",
	"2041-05-06",
	"2041-05-07",
	"2041-06-06",
	"2041-08-15",
	"2041-09-09",
	"2041-09-10",
	"2041-09-11",
	"2041-10-03",
	"2041-10-09",
	"2041-12-25",
	"2042-01-01",
	"2042-01-21",
	"2042-01-22",
	"2042-01-23",
	"2042-03-03",
	"2042-05-01",
	"2042-05-05",
	"2042-05-26",
	"2042-06-04",
	"2042-06-06",
	"2042-08-15",
	"2042-09-29",
	"2042-09-30",
	"2042-10-03",
	"2042-10-09",
	"2042-12-25",
	"2043-01-01",
	"2043-02-09",
	"2043-02-10",
	"2043-02-11",
	"2043-03-02",
	"2043-05-01",
	"2043-05-05",
	"2043-05-18",
	"2043-08-17",
	"2043-09-16",
	"2043-09-17",
	"2043-09-18",
	"2043-10-05",
	"2043-10-09",
	"2043-12-25",
	"2044-01-01",
	"2044-01-29",
	"2044-02-01",
	"2044-03-01",
	"2044-04-13",
	"2044-05-05",
	"2044-05-06",
	"2044-06-06",
	"2044-08-15",
	"2044-10-03",
	"2044-10-04",
	"2044-10-05",
	"2044-10-06",
	"2044-10-10",
	"2044-12-26",
	"2045-02-16",
	"2045-02-17",
	"2045-03-01",
	"2045-03-29",
	"2045-05-01",
	"2045-05-05",
	"2045-05-24",
	"2045-06-06",
	"2045-08-15",
	"2045-09-25",
	"2045-09-26",
	"2045-09-27",
	"2045-10-03",
	"2045-10-09",
	"2045-12-25",
	"2046-01-01",
	"2046-02-05",
	"2046-02-06",
	"2046-02-07",
	"2046-03-01",
	"2046-05-01",
	"2046-05-07",
	"2046-05-14",
	"2046-06-06",
	"2046-06-13",
	"2046-08-15",
	"2046-09-14",
	"2046-09-17",
	"2046-10-03",
	"2046-10-09",
	"2046-12-25",
	"2047-01-01",
	"2047-01-25",
	"2047-01-28",
	"2047-03-01",
	"2047-05-01",
	"2047-05-02",
	"2047-05-06",
	"2047-06-06",
	"2047-08-15",
	"2047-10-03",
	"2047-10-04",
	"2047-10-07",
	"2047-10-09",
	"2047-12-25",
	"2048-01-01",
	"2048-02-13",
	"2048-02-14",
	"2048-03-02",
	"2048-04-15",
	"2048-05-01",
	"2048-05-05",
	"2048-05-20",
	"2048-08-17",
	"2048-09-21",
	"2048-09-22",
	"2048-09-23",
	"2048-10-05",
	"2048-10-09",
	"2048-12-25",
	"2049-01-01",
	"2049-02-01",
	"2049-02-02",
	"2049-02-03",
	"2049-03-01",
	"2049-05-05",
	"2049-05-10",
	"2049-08-16",
	"2049-09-10",
	"2049-09-13",
	"2049-10-04",
	"2049-10-11",
	"2049-12-27",
	"2050-01-24",
	"2050-01-25",
	"2050-03-01",
	"2050-03-30",
	"2050-05-05",
	"2050-05-30",
	"2050-06-01",
	"2050-06-06",
	"2050-08-15",
	"2050-09-29",
	"2050-09-30",
	"2050-10-03",
	"2050-10-10",
	"2050-12-26",
	"2051-02-10",
	"2051-02-13",
	"2051-03-01",
	"2051-05-01",
	"2051-05-05",
	"2051-05-17",
	"2051-06-06",
	"2051-08-15",
	"2051-09-18",
	"2051-09-19",
	"2051-09-20",
	"2051-10-03",
	"2051-10-09",
	"2051-12-25",
	"2052-01-01",
	"2052-01-31",
	"2052-02-01",
	"2052-02-02",
	"2052-03-01",
	"2052-04-10",
	"2052-05-01",
	"2052-05-06",
	"2052-05-07",
	"2052-06-06",
	"2052-08-15",
	"2052-09-06",
	"2052-09-09",
	"2052-10-03",
	"2052-10-09",
	"2052-12-25",
	"2053-01-01",
	"2053-02-18",
	"2053-02-19",
	"2053-02-20",
	"2053-03-03",
	"2053-05-01",
	"2053-05-05",
	"2053-05-26",
	"2053-06-06",
	"2053-08-15",
	"2053-09-25",
	"2053-09-26",
	"2053-10-03",
	"2053-10-09",
	"2053-12-25",
	"2054-01-01",
	"2054-02-09",
	"2054-02-10",
	"2054-03-02",
	"2054-05-01",
	"2054-05-05",
	"2054-05-15",
	"2054-06-03",
	"2054-08-17",
	"2054-09-15",
	"2054-09-16",
	"2054-09-17",
	"2054-10-05",
	"2054-10-09",
	"2054-12-25",
	"2055-01-01",
	"2055-01-27",
	"2055-01-28",
	"2055-01-29",
	"2055-03-01",
	"2055-03-31",
	"2055-05-04",
	"2055-05-05",
	"2055-08-16",
	"2055-10-04",
	"2055-10-05",
	"2055-10-06",
	"2055-10-07",
	"2055-10-11",
}

// CD91Fixings contains historical CD91 rate fixings.
var CD91Fixings = map[string]float64{
	"2025-11-21": 2.76000,
	"2025-11-20": 2.76000,
	"2025-11-19": 2.75000,
	"2025-11-18": 2.74000,
	"2025-11-17": 2.74000,
	"2025-11-14": 2.72000,
	"2025-11-13": 2.70000,
	"2025-11-12": 2.61000,
	"2025-11-11": 2.60000,
	"2025-11-10": 2.60000,
	"2025-11-07": 2.60000,
	"2025-11-06": 2.58000,
	"2025-11-05": 2.57000,
	"2025-11-04": 2.57000,
	"2025-11-03": 2.56000,
	"2025-10-31": 2.55000,
	"2025-10-30": 2.56000,
	"2025-10-29": 2.55000,
	"2025-10-28": 2.55000,
	"2025-10-27": 2.54000,
	"2025-10-24": 2.54000,
	"2025-10-23": 2.54000,
	"2025-10-22": 2.54000,
	"2025-10-21": 2.54000,
	"2025-10-20": 2.54000,
	"2025-10-17": 2.54000,
	"2025-10-16": 2.54000,
	"2025-10-15": 2.54000,
	"2025-10-14": 2.54000,
	"2025-10-13": 2.54000,
	"2025-10-10": 2.55000,
	"2025-10-02": 2.55000,
	"2025-10-01": 2.56000,
}

// ReferenceRateFeed supplies short-rate fixings (e.g., CD91) for discounting the first floating period.
type ReferenceRateFeed interface {
	RateOn(date time.Time) (float64, bool)
}

// MapReferenceRateFeed is a static map-backed implementation for development/testing.
type MapReferenceRateFeed struct {
	rates map[string]float64
}

// NewMapReferenceRateFeed creates a new map-backed reference rate feed.
func NewMapReferenceRateFeed(rates map[string]float64) *MapReferenceRateFeed {
	return &MapReferenceRateFeed{rates: rates}
}

func (m *MapReferenceRateFeed) RateOn(date time.Time) (float64, bool) {
	val, ok := m.rates[date.Format("2006-01-02")]
	return val, ok
}

// DefaultReferenceFeed builds a map-backed feed using the bundled CD91 fixings.
func DefaultReferenceFeed() ReferenceRateFeed {
	return &MapReferenceRateFeed{rates: CD91Fixings}
}
